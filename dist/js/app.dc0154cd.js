(function(e){function t(t){for(var o,s,r=t[0],c=t[1],u=t[2],d=0,f=[];d<r.length;d++)s=r[d],Object.prototype.hasOwnProperty.call(a,s)&&a[s]&&f.push(a[s][0]),a[s]=0;for(o in c)Object.prototype.hasOwnProperty.call(c,o)&&(e[o]=c[o]);l&&l(t);while(f.length)f.shift()();return i.push.apply(i,u||[]),n()}function n(){for(var e,t=0;t<i.length;t++){for(var n=i[t],o=!0,r=1;r<n.length;r++){var c=n[r];0!==a[c]&&(o=!1)}o&&(i.splice(t--,1),e=s(s.s=n[0]))}return e}var o={},a={app:0},i=[];function s(t){if(o[t])return o[t].exports;var n=o[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,s),n.l=!0,n.exports}s.m=e,s.c=o,s.d=function(e,t,n){s.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},s.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s.t=function(e,t){if(1&t&&(e=s(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(s.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)s.d(n,o,function(t){return e[t]}.bind(null,o));return n},s.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return s.d(t,"a",t),t},s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},s.p="/";var r=window["webpackJsonp"]=window["webpackJsonp"]||[],c=r.push.bind(r);r.push=t,r=r.slice();for(var u=0;u<r.length;u++)t(r[u]);var l=c;i.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"199c":function(e,t){function n(){var e=Math.min(document.documentElement.clientWidth,750)/750*100;e=Math.min(e,70);var t=e/parseFloat(window.getComputedStyle(document.documentElement).fontSize);1!==t&&(document.documentElement.style.fontSize=e+"px")}window.onresize=n,window.onload=n},"1c60":function(e,t,n){"use strict";n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return a}));var o=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"app"}},[n("router-view")],1)},a=[]},"23be":function(e,t,n){"use strict";var o=n("199c"),a=n.n(o);t["default"]=a.a},"3dfd":function(e,t,n){"use strict";var o=n("1c60"),a=n("23be"),i=n("2877"),s=Object(i["a"])(a["default"],o["a"],o["b"],!1,null,null,null);t["default"]=s.exports},4700:function(e,t,n){},"54dd":function(e,t,n){"use strict";var o=n("d772"),a=n.n(o);a.a},"56d7":function(e,t,n){"use strict";n.r(t);n("e260"),n("e6cf"),n("cca6"),n("a79d");var o=n("2b0e"),a=n("3dfd"),i=(n("b0c0"),n("8c4f")),s=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"home-page"},[e._v(" Home ")])},r=[],c={name:"Home",components:{}},u=c,l=n("2877"),d=Object(l["a"])(u,s,r,!1,null,null,null),f=d.exports,h=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"passport-layout-web-reg web-v3-layout-box"},[e._m(0),n("div",{staticClass:"web-reg-right"},[n("div",{staticClass:"web-main-content"},[n("div",{staticClass:"register-with-account-container flex-column"},[n("div",{staticClass:"base-back-container"},[e.showBackArrow?n("div",{staticClass:"base-back-text",on:{click:e.handleGoback}},[e._v(" 返回 ")]):e._e()]),n("div",{staticClass:"base-title-container"},[n("div",{staticClass:"base-title-title"},[e._v(" "+e._s(e.formInformation[e.step].title)+" ")]),n("div",{staticClass:"base-title-subtitle"},[n("span",[e._v(e._s(e.formInformation[e.step].description))]),2===e.step?n("span",{staticStyle:{"font-weight":"600",color:"#333"}},[e._v(" +86 "+e._s(e.phone)+" ")]):e._e()])]),1===e.step?n("div",{staticClass:"base-input-container"},[n("div",{class:["mobile-input-container",{"on-error":e.mobileError}]},[n("input",{staticClass:"mobile-input-code",attrs:{id:"register_code_area",name:"register_form_items",spellcheck:"false",autocomplete:"off",autocorrect:"off",autocapitalize:"off",maxlength:"4",type:"tel",disabled:"",value:"+86"}}),n("div",{staticClass:"mobile-input-seperator-line"}),n("input",{directives:[{name:"model",rawName:"v-model",value:e.phone,expression:"phone"}],staticClass:"mobile-input-phone",attrs:{name:"register_phone",placeholder:"请输入你的手机号",spellcheck:"false",autocomplete:"off",autocorrect:"off",autocapitalize:"off",type:"tel"},domProps:{value:e.phone},on:{focus:e.handleFocus,input:function(t){t.target.composing||(e.phone=t.target.value)}}})]),e.mobileError?n("div",{staticClass:"mobile-input-error-msg"},[e._v(" 手机号码错误，请重新输入。 ")]):e._e(),n("div",{staticClass:"wechat-login-container",on:{click:e.handleGetWechatAuthURL}},[e._v(" 使用微信登录 >> ")])]):e._e(),2===e.step?n("div",{staticClass:"base-input-container"},[n("div",{staticClass:"code-box-container"},[e._l(e.code,(function(t,o){return[n("div",{key:o,staticClass:"code-box"},[n("input",{directives:[{name:"focus",rawName:"v-focus"},{name:"model",rawName:"v-model",value:e.code[o],expression:"code[index]"}],class:["code-box-input",{active:e.code[o]}],attrs:{"data-index":o,"data-focus-index":e.focusIndex,type:"tel",name:"register_form_items",spellcheck:"false",autocomplete:"off",autocorrect:"off",autocapitalize:"off",disabled:e.focusIndex!==o},domProps:{value:e.code[o]},on:{keyup:e.handleCodeboxChange,input:function(t){t.target.composing||e.$set(e.code,o,t.target.value)}}})])]}))],2),e.countDowning?n("div",{staticClass:"code-box-count"},[e._v(" "+e._s(e.count)+" 秒后可重新获取验证码 ")]):e._e(),e.countDowning?e._e():n("div",{staticClass:"code-box-resend",on:{click:e.countDown}},[e._v(" 重新获取验证码 ")])]):e._e(),n("div",{staticClass:"flex-grow"}),1===e.step?n("div",{class:["base-button",{"base-button-disabled":e.mobileInputDisabled}],on:{click:e.handleSendMessage}},[e._v(" 下一步 ")]):e._e(),2===e.step?n("div",{class:["base-button",{"base-button-disabled":e.codeInputDisabled}],on:{click:e.handleSubmit}},[e._v(" 登录 ")]):e._e()])])])])},p=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"web-reg-left"},[n("div",{staticClass:"left-title"},[n("div",[e._v(" 极客 · 云教育 "),n("br"),e._v(" 面向未来的技术人才教育 ")])]),n("div",{staticClass:"left-img"})])}],v=(n("a15b"),n("d81d"),n("45fc"),n("a9e3"),n("ac1f"),n("5319"),n("d3b7"),n("5530")),m=n("bc3a"),b=n.n(m),g=n("5c96"),w=n.n(g),_=(n("4ec9"),n("3ca3"),n("ddb0"),n("d4ec")),x=n("bee2"),y=function(){function e(){Object(_["a"])(this,e),this.prefix="pro_",this.storage=window.localStorage}return Object(x["a"])(e,[{key:"set",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:86400,o=Date.now(),a=JSON.stringify({value:t,exp:n,timestamp:o}),i=this.prefix+e;this.storage.setItem(i,a)}},{key:"get",value:function(e){var t=this.prefix+e,n=this.storage.getItem(t);if(!n)return!1;n=JSON.parse(n);var o=1e3*n.exp,a=n,i=a.timestamp,s=n,r=s.value,c=Date.now();return c>i+o?(this.delete(e),!1):r}},{key:"delete",value:function(e){var t=this.prefix+e;this.storage.removeItem(t)}}]),e}(),k=y,C=function(){function e(){Object(_["a"])(this,e),this.init()}return Object(x["a"])(e,[{key:"init",value:function(){this.map=new Map,this.storage=new k}},{key:"getToken",value:function(){return this.storage.get("token")}},{key:"setToken",value:function(e){this.storage.set("token",e)}},{key:"removeToken",value:function(){localStorage.clear()}},{key:"clear",value:function(){localStorage.clear()}}],[{key:"getInstance",value:function(){return e.instance||(e.instance=new e),e.instance}}]),e}(),S=C.getInstance(),j=b.a.create();j.defaults.timeout=2e3,j.interceptors.request.use((function(e){var t=Object(v["a"])({},e),n=S.getToken();return n&&(t["headers"]["Authorization"]="Bearer "+n),t}),(function(e){return Promise.reject(e)}));var O=function(e){var t=e.response,n=t?t.status:408;if(t){var o=t.data,a=o.message||"服务器发送错误，请稍后再试";401===n?g["Message"].error("登录状态过期，请重新登录"):403===n?g["Message"].error("没有权限，联系管理员"):g["Message"].error(a)}else g["Message"].error("网络超时")},I=function(e){switch(!0){case 0===e.data.error_code:return e.data.data;case 1===e.data.error_code:return g["Message"].error(e.data.message),Promise.reject(e.data);default:return e.data}},D=function(e){return O(e),Promise.reject(e)};j.interceptors.response.use(I,D);var E={post:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return j.post(e,t,n)},put:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return j.put(e,t,n)},get:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=Object.assign({params:t},n);return j.get(e,o)},delete:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=Object.assign({params:t},n);return j.delete(e,o)}},M="https://neon.jiker.vip/api",$={smsSend:"".concat(M,"/sms/send"),smsLogin:"".concat(M,"/sms/login"),socialWechat:"".concat(M,"/auth/social/wechat"),socialWechatUrl:"".concat(M,"/auth/social/wechat/url")},A={smsSend:function(e){var t=e.phone;return E.post($.smsSend,{phone:t})},smsLogin:function(e){var t=e.phone,n=e.code;return E.post($.smsLogin,{phone:t,code:n})},wechatAuthUrl:function(e){return E.get($.socialWechatUrl,e)},wechatAuth:function(e){return E.get($.socialWechat,e)}},P=A,L={data:function(){return{count:60,countDowning:!1,step:1,formInformation:{1:{title:"欢迎来到极客 · EDU",description:" 以企业为教学出发点，以企业为人才流向地，面向市场及职场打造“教→学→求职”全流程的创新式闭环。 "},2:{title:"验证手机号",description:"请输的 6 位验证码，有效期十分钟。如未收到，请尝试重新获取验证码。"}},showBackArrow:!1,mobileError:!1,phone:"",code:["","","","","",""],focusIndex:0}},computed:{mobileInputDisabled:function(){return 11!==this.phone.length},codeInputDisabled:function(){return this.code.some((function(e){return""===e}))}},methods:{handleSendMessage:function(){var e=this;this.isMobile(this.phone)?P.smsSend({phone:this.phone}).then((function(t){var n=t.code;n&&e.$message.success({message:"验证码："+n,duration:9e3}),e.showBackArrow=!0,e.step=2,e.countDown()})):this.mobileError=!0},handleGoback:function(){this.showBackArrow=!1,this.step=1,this.phone="",this.countDownStop()},countDown:function(){var e=this;this.countDowning=setInterval((function(){e.count--,1===e.count&&e.countDownStop()}),1e3)},countDownStop:function(){clearInterval(this.countDowning),this.count=60,this.countDowning=!1},isMobile:function(e){return/^(1[34578]\d{9})$/.test(e)},handleFocus:function(){this.mobileError&&(this.mobileError=!1)},handleCodeboxChange:function(e){var t=this.focusIndex,n=this.code[t];if(8===e.keyCode&&0!==t)return this.focusIndex=t-1,void this.$set(this.code,t-1,"");/^\d$/.test(n)?this.focusIndex=t+1:this.$set(this.code,t,""),5===t&&this.handleSubmit()},handleSubmit:function(){var e=this,t=this.code.join("");P.smsLogin({code:t,phone:this.phone}).then((function(){e.$message.success("登录成功"),e.$router.replace({name:"Home"})})).catch((function(){e.code=e.code.map((function(){return""})),e.focusIndex=0}))},handleGetWechatAuthURL:function(){P.wechatAuthUrl({redirect_url:"http://edu-www.aitschool.com/social/wechat"}).then((function(e){window.location.href=e.redirect}))}},directives:{focus:function(e){var t=Number(e.getAttribute("data-index")),n=Number(e.getAttribute("data-focus-index"));t===n&&e.focus()}}},T=L,W=(n("54dd"),Object(l["a"])(T,h,p,!1,null,null,null)),z=W.exports,N=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"social-wecaht"},[e._v(" social-wechat ")])},U=[],H={data:function(){return{}},created:function(){var e=this,t=this.$route.query.code;P.wechatAuth({code:t}).then((function(){e.$router.replace({name:"Home"})}))},methods:{}},B=H,G=Object(l["a"])(B,N,U,!1,null,null,null),J=G.exports,F=[{path:"/",name:"Home",component:f},{path:"/login",name:"AuthPhoneLogin",component:z},{path:"/social/wechat",name:"AuthSocialWechat",component:J}],q=F,R=n("323e"),K=n.n(R);n("a5d8");o["default"].use(i["a"]);var Q=new i["a"]({mode:"history",base:"/",routes:q});Q.beforeEach((function(e,t,n){K.a.start(),e.meta.title&&(document.title=e.meta.title);var o=S.getToken();if(o&&"Login"===e.name)return n({name:"Home",replace:!0}),void K.a.done();n()})),Q.afterEach((function(e,t){K.a.done()}));var V=Q,X=n("2f62");o["default"].use(X["a"]);var Y=new X["a"].Store({state:{},mutations:{},actions:{},modules:{}});n("0fae"),n("4700");o["default"].use(w.a),o["default"].config.productionTip=!1,new o["default"]({router:V,store:Y,render:function(e){return e(a["default"])}}).$mount("#app")},d772:function(e,t,n){}});
//# sourceMappingURL=app.dc0154cd.js.map